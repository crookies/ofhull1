/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
|  \\    /   O peration     | Version:  v2212                                 |
|   \\  /    A nd           | Website:  www.openfoam.com                      |
|    \\/     M anipulation  |                                                 |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      dynamicMeshDict;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

#include "../system/initialConditions"

dynamicFvMesh   dynamicMotionSolverFvMesh;
motionSolverLibs (rigidBodyMeshMotion);
motionSolver    rigidBodyMotion;

/* Dynamic mesh
dynamicFvMesh   staticFvMesh;
*/

report          on;

solver
{
    type Newmark;
}

/*
accelerationRelaxation table
			(
			(0	0)
			(40	0)
			(60	0.15)
			(80	0.3)
			(100	0.3)
			);
*/
accelerationRelaxation table
(
    (0  0)
    (36 0)      // Start at 0
    (56 0.4)    // Ramp gently to 0.4 over 20 seconds
    (100 0.4)   // Hold at 0.4 (enough to move, low enough to be stable)
);

bodies
{
    Carena
    {
        type            rigidBody;
        parent          root;

        centreOfMass    (0 0 0);
        mass            $mass;
        inertia         ($Ixx 0 0 $Iyy 0 $Izz);
        
        transform       (1 0 0 0 1 0 0 0 1) ($CoGx 0 $CoGz);

        joint
        {
            type    composite;
            joints
            (
                {
                    type Pz;
                }
                {
                    type Ry;
                }
            );
        }

        patches         (Carena);
        innerDistance   1;
        outerDistance   5;
    }
}

/* Not used by by rigidBodyMotion solver, but kept for reference
constraints
{
    zAxis
    {
        rigidBodyMotionConstraint line;
        direction     (0 0 1);
    }

    yPlane
    {
        rigidBodyMotionConstraint axis;
        axis          (0 1 0);
    }
}
*/

restraints
{
    translationDamper
    {
        type linearDamper;
        body Carena;
        coeff $linearDampingCoef;  
    }

    rotationDamper
    {
        type sphericalAngularDamper;
        body Carena;
        coeff $angularDampingCoef;  
    }
}


// ************************************************************************* //
